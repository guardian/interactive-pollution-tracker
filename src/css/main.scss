@import "mq";
@import "fonts"; // Uncomment for embeds
//@import "embed";
// Uncomment for full screen (including immersive article main media)
//@import "fullscreen";
@import 'bower_components/guss-typography/_typography.scss';

@mixin f-sans {
    font-family: 'Guardian Sans Web';
}

@font-face {
    font-family: 'Guardian Sans Web';
    src: url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands6bol-webfont.woff2') format('woff2'),
    url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands6bol-webfont.woff') format('woff');
    font-weight: 700;
    font-style: normal;
}

@font-face {
    font-family: 'Guardian Sans Web';
    src: url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands3reg-webfont.woff2') format('woff2'),
    url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands3reg-webfont.woff') format('woff');
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: 'Guardian Sans Web';
    src: url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands1thi-webfont.woff2') format('woff2'),
    url('https://interactive.guim.co.uk/fonts/displaysans/fonts/gdnsands1thi-webfont.woff') format('woff');
    font-weight: 200;
    font-style: normal;
}
#interactive-slot-1 {
    margin-top: 12px;
}



.element-atom,
.interactive-atom {
    margin: 0 !important;
    position: relative;
}

.base-map {
    // position: absolute;
    // top: 0;
    img {
        width: 100%;
        height: 100%; // display: none;
    }
}

.map-wrapper {
    width: 100%;
    height: 100%;


    @include mq(tablet) {
        height: 620px;
        width: 620px;
        top: -30px;
    }

    @include mq(leftCol) {
        width: 860px;
        height: 860px;
        top: -80px;
        margin-bottom: -80px;
    }

    position: relative;

    svg {
        position: absolute;
        top: 0;

        circle {
            fill-opacity: 0.01 !important;
            stroke-width: 1.2px !important;
        }
    }
}

.hover-box {
    position: absolute;
    color: #000;
    pointer-events: none;
    box-sizing: border-box; // padding: 6px 5px;
    @include fs-textSans(3);

    transition: opacity 0.15s ease-in-out;

    h4 {
        margin: 0;
        font-weight: 900;
        background-color: #fff;
        border: 1px solid #333;
        display: inline-block;
        padding: 1px 5px;
        @include fs-header(1);
    }

    p {
        margin: 0;
        background-color: #fff;
        border: 1px solid #333;
        margin-top: 1px;
        display: table;
        padding: 1px 5px;
    }
}

.line-header {
    @include fs-header(1);
    margin: 0;
    padding-bottom: 2px;
}

.line-desc {
    @include fs-textSans(3);
    color: #767676;
    padding-bottom: 12px;
    height: 60px;
}

.text-label {
    @include fs-textSans(1);
    fill: #767676; // font-size: 12px;
    // font-weight: 700;
}

.text-label-bg {
    @include fs-textSans(1);
    fill: #fff;
    stroke: #fff;
    stroke-width: 2px;
    font-weight: 700;
}

.line-chart {
    overflow: visible !important;
    margin-top: 24px;
    @include mq(620px) {
        margin-bottom: 12px;
    }
}

.line-wrapper {
    display: inline-block;
    @include mq(620px) {
        width: 300px;
    }
    vertical-align: top;
    margin-bottom: 36px;

    &:nth-child(2n+1) {
        margin-right: 20px;
    }
}

.x-axis,
.y-axis {
    path,
    line {
        stroke: #767676 !important;
    }

    text {
        stroke: none !important;
        @include fs-textSans(1);
        fill: #767676;
        font-size: 10px;
    }
}

line.target-line {
    stroke: #bdbdbd !important;
    stroke-dasharray: 2, 2;
}

.annual-target {
    @include fs-textSans(1);
}

.days-passed {
    @include fs-textSans(1);
    font-weight: bold;
    fill: #005689;
    text-anchor: middle;
}

.days-passed-prev {
    @include fs-textSans(1);
    fill: #94b1ca;
    text-anchor: middle;
}

.site-name {
    @include fs-header(1);
}

.key {
    display: block;
    .key-item {
        display: inline-block;
        margin-right: 20px;
        color: #767676;
        @include fs-textSans(3);

        &::before {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 1px solid #f6f6f6;
            box-sizing: border-box;
            border-radius: 10px;
            margin-right: 5px;
            transform: translateY(1px);
        }
    }

    .key-item--1 {
        &::before {
            border-color: rgb(189, 189, 189);
        }
    }

    .key-item--2 {
        &::before {
            border-color: rgb(255, 155, 11);
        }
    }

    .key-item--3 {
        &::before {
            border-color: rgb(204, 43, 18);
        }
    }

    .key-item--text {
        display: block; // margin-top:/
        @include mq($until: mobileLandscape) {
            margin-top: 4px;
        }

        &::before {
            display: none;
        }
    }
}

.buttons {
    margin-bottom: 12px;
    margin-top: 12px;

    @include mq(620px) {
        position: absolute;
        margin-top: 0;
        top: 104px;
        left: 0;
    }
}

.year-button {
    display: inline-block;
    padding: 5px 10px;
    background-color: #f6f6f6;
    border: 0;
    border-radius: 20px;
    margin-right: 5px;
    @include fs-textSans(3);
    font-weight: bold;
    outline: 0 !important;

    &:hover {
        background-color: #eaeaea;
    }

    &.active {
        background-color: #005689;
        color: #fff;

        &:hover {
            background-color: #00456e;
        }
    }
}

.map-meta {
    @include mq(leftCol) {
        margin-left: 80px;
        margin-right: 80px;
    }
    position: relative; // position: absolute;
    // top: 0px;
    z-index: 30;
}

.num-exceeded {
    // @include f-sans;
    // font-weight: 300;
    // font-size: 80px;
    // line-height: 60px;
    color: #cc2b12;
    // position: relative;
    // margin-bottom: 12px;
    @include fs-headline(4);
    font-weight: 500;
    margin-top: 12px;

    &::after {
        // display: block;
        // position: absolute;
        content: " locations have already exceeded annual targets";
        // @include fs-textSans(3); // line-height: 18px
        // font-size: 16px;
        // left: 50px;
        // top: 0;
        // max-width: 140px;
        color: #767676;
        font-weight: 300;

        .prev-year & {
            content: " locations exceeded annual targets";
        }
    }
} //enhancer
.content__main-column--interactive>p,
.content__main-column--interactive>h2,
.content__main-column--interactive .element-interactive,
.content__main-column--interactive .element-atom {
    max-width: 620px
}

@include mq(leftCol) {
    .content__main-column--interactive>p,
    .content__main-column--interactive>h2,
    .content__main-column--interactive .element-interactive,
    .content__main-column--interactive .element-atom {
        margin-left: 160px !important
    }
}

@include mq(wide) {
    .content__main-column--interactive>p,
    .content__main-column--interactive>h2,
    .content__main-column--interactive .element-interactive,
    .content__main-column--interactive .element-atom {
        margin-left: 240px !important
    }
}

.content__main-column--interactive>h2 {
    font-family: "Guardian Egyptian Web", Georgia;
    font-size: 36px;
    line-height: 42px;
    font-weight: 200;
    color: #333;
    margin-top: 36px;
    margin-bottom: 6px;
}

.content__main-column--interactive .element--immersive {
    max-width: initial;
    margin-left: 0 !important;
    margin-bottom: 36px !important
}

@include mq(leftCol) {
    .content__main-column--interactive .element--showcase {
        max-width: 780px;
        margin-left: 80px !important
    }
}

@include mq(wide) {
    .content__main-column--interactive .element--showcase {
        max-width: 780px;
        margin-left: 160px !important
    }
}

.content__main-column--interactive>h2+p {
    font-family: "Guardian Text Sans Web";
    font-size: 14px;
    line-height: 18px;
    color: #767676;
    // font-weight: bold;
    margin-top: 2px !important;
    margin-bottom: 24px;
}